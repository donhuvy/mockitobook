plugins {
    id 'java'
}

// depedency versions are in versions.gradle
apply from: 'versions.gradle'

group 'com.kousenit'
version '1.0'

// Java 11+ needed for HttpClient
java {
    toolchain {
        languageVersion.set(JavaLanguageVersion.of(11))
    }
}

repositories {
    mavenCentral()
}

dependencies {
    // JUnit, including vintage engine
    testImplementation "org.junit.jupiter:junit-jupiter:$junitVersion"
    testImplementation "org.junit.vintage:junit-vintage-engine:$junitVersion"

    // Mockito
    // testImplementation "org.mockito:mockito-core:$mockitoVersion"
    testImplementation "org.mockito:mockito-inline:$mockitoVersion"  // includes "core"
    testImplementation "org.mockito:mockito-junit-jupiter:$mockitoVersion"

    // AssertJ
    testImplementation "org.assertj:assertj-core:$assertJVersion"

    // Retrofit
    implementation "com.squareup.retrofit2:retrofit:$retrofitVersion"
    implementation "com.squareup.retrofit2:converter-gson:$retrofitVersion"

    // Jackson JSON library
    implementation "com.fasterxml.jackson.core:jackson-databind:$jacksonVersion"

    // Gson
    implementation "com.google.code.gson:gson:$gsonVersion"
}

test {
    useJUnitPlatform()
    maxParallelForks(4)
}